{"version":3,"sources":["link/link.jsx"],"names":["Link","state","hovered","focused","render","cn","linkElement","props","checked","disabled","linkProps","ref","root","className","pseudo","size","id","tabIndex","onClick","handleClick","onFocus","handleFocus","onBlur","handleBlur","onMouseEnter","handleMouseEnter","onMouseLeave","handleMouseLeave","target","rel","href","url","linkContent","children","iconTemplate","icon","textTemplate","text","iconPosition","push","createElement","event","preventDefault","setState","getNode","focus","blur","document","activeElement","Component","propTypes","node","oneOf","string","number","bool","oneOfType","arrayOf","theme","func","defaultProps"],"mappings":";;;;kEAAA;;;;AAIA;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA;;;IAKMA,I,WAFL,kBAAG,MAAH,C,UACA,4B;;;;;;;;;;;;4JAqDGC,K,GAAQ;AACJC,qBAAS,KADL;AAEJC,qBAAS;AAFL,S;;;mBAORC,M,mBAAOC,E,EAAI;AAAA;;AACP,YAAIC,cAAc,KAAKC,KAAL,CAAWC,OAAX,IAAsB,KAAKD,KAAL,CAAWE,QAAjC,GAA4C,MAA5C,GAAqD,GAAvE;;AAEA,YAAIC,YAAY;AACZC,iBAAK,aAACC,IAAD,EAAU;AAAE,uBAAKA,IAAL,GAAYA,IAAZ;AAAmB,aADxB;AAEZC,uBAAWR,GAAG;AACVI,0BAAU,KAAKF,KAAL,CAAWE,QADX;AAEVD,yBAAS,KAAKD,KAAL,CAAWC,OAFV;AAGVM,wBAAQ,KAAKP,KAAL,CAAWO,MAHT;AAIVC,sBAAM,KAAKR,KAAL,CAAWQ,IAJP;AAKVZ,yBAAS,KAAKF,KAAL,CAAWE,OALV;AAMVD,yBAAS,KAAKD,KAAL,CAAWC;AANV,aAAH,CAFC;AAUZc,gBAAI,KAAKT,KAAL,CAAWS,EAVH;AAWZC,sBAAU,KAAKV,KAAL,CAAWU,QAXT;AAYZC,qBAAS,KAAKC,WAZF;AAaZC,qBAAS,KAAKC,WAbF;AAcZC,oBAAQ,KAAKC,UAdD;AAeZC,0BAAc,KAAKC,gBAfP;AAgBZC,0BAAc,KAAKC;AAhBP,SAAhB;;AAmBA,YAAI,KAAKpB,KAAL,CAAWqB,MAAX,KAAsB,QAA1B,EAAoC;AAChClB,sBAAUmB,GAAV,GAAgB,qBAAhB;AACH;;AAED,YAAI,CAAC,KAAKtB,KAAL,CAAWC,OAAZ,IAAuB,CAAC,KAAKD,KAAL,CAAWE,QAAvC,EAAiD;AAC7CC,sBAAUoB,IAAV,GAAiB,KAAKvB,KAAL,CAAWwB,GAA5B;AACArB,sBAAUkB,MAAV,GAAmB,KAAKrB,KAAL,CAAWqB,MAA9B;AACH;;AAED,YAAII,cAAc,CAAC,KAAKzB,KAAL,CAAW0B,QAAZ,CAAlB;AACA,YAAIC,eACA,KAAK3B,KAAL,CAAW4B,IAAX,IACI;AAAA;AAAA,cAAM,KAAI,MAAV,EAAiB,WAAY9B,GAAG,MAAH,CAA7B;AACM,iBAAKE,KAAL,CAAW4B;AADjB,SAFR;AAMA,YAAIC,eACA,KAAK7B,KAAL,CAAW8B,IAAX,IACI;AAAA;AAAA,cAAM,KAAI,MAAV,EAAiB,WAAYhC,GAAG,MAAH,CAA7B;AACM,iBAAKE,KAAL,CAAW8B;AADjB,SAFR;;AAOA,YAAI,KAAK9B,KAAL,CAAW+B,YAAX,KAA4B,MAAhC,EAAwC;AACpCN,wBAAYO,IAAZ,CAAiBL,YAAjB,EAA+BE,YAA/B;AACH,SAFD,MAEO,IAAI,KAAK7B,KAAL,CAAW+B,YAAX,KAA4B,OAAhC,EAAyC;AAC5CN,wBAAYO,IAAZ,CAAiBH,YAAjB,EAA+BF,YAA/B;AACH;;AAED,eAAO,gBAAMM,aAAN,CACHlC,WADG,EAEHI,SAFG,EAGHsB,WAHG,CAAP;AAKH,K;;mBAGDb,W,wBAAYsB,K,EAAO;AACf,YAAI,KAAKlC,KAAL,CAAWO,MAAf,EAAuB;AACnB2B,kBAAMC,cAAN;AACH;AACD,YAAI,KAAKnC,KAAL,CAAWW,OAAf,EAAwB;AACpB,iBAAKX,KAAL,CAAWW,OAAX,CAAmBuB,KAAnB;AACH;AACJ,K;;mBAGDpB,W,wBAAYoB,K,EAAO;AACf,aAAKE,QAAL,CAAc,EAAExC,SAAS,IAAX,EAAd;;AAEA,YAAI,KAAKI,KAAL,CAAWa,OAAf,EAAwB;AACpB,iBAAKb,KAAL,CAAWa,OAAX,CAAmBqB,KAAnB;AACH;AACJ,K;;mBAGDlB,U,uBAAWkB,K,EAAO;AACd,aAAKE,QAAL,CAAc,EAAExC,SAAS,KAAX,EAAd;;AAEA,YAAI,KAAKI,KAAL,CAAWe,MAAf,EAAuB;AACnB,iBAAKf,KAAL,CAAWe,MAAX,CAAkBmB,KAAlB;AACH;AACJ,K;;mBAGDhB,gB,6BAAiBgB,K,EAAO;AACpB,aAAKE,QAAL,CAAc,EAAEzC,SAAS,IAAX,EAAd;;AAEA,YAAI,KAAKK,KAAL,CAAWiB,YAAf,EAA6B;AACzB,iBAAKjB,KAAL,CAAWiB,YAAX,CAAwBiB,KAAxB;AACH;AACJ,K;;mBAGDd,gB,6BAAiBc,K,EAAO;AACpB,aAAKE,QAAL,CAAc,EAAEzC,SAAS,KAAX,EAAd;;AAEA,YAAI,KAAKK,KAAL,CAAWmB,YAAf,EAA6B;AACzB,iBAAKnB,KAAL,CAAWmB,YAAX,CAAwBe,KAAxB;AACH;AACJ,K;;AAED;;;;;;;;mBAMAG,O,sBAAU;AACN,eAAO,KAAKhC,IAAZ;AACH,K;;AAED;;;;;;;mBAKAiC,K,oBAAQ;AACJ,aAAKjC,IAAL,CAAUiC,KAAV;AACH,K;;AAED;;;;;;;mBAKAC,I,mBAAO;AACH,YAAIC,SAASC,aAAb,EAA4B;AACxBD,qBAASC,aAAT,CAAuBF,IAAvB;AACH;AACJ,K;;;EA/Lc,gBAAMG,S,WACdC,S,GAAY;AACf;AACAf,UAAM,oBAAKgB,IAFI;AAGf;AACAb,kBAAc,oBAAKc,KAAL,CAAW,CAAC,MAAD,EAAS,OAAT,CAAX,CAJC;AAKf;AACAf,UAAM,oBAAKc,IANI;AAOf;AACApB,SAAK,oBAAKsB,MARK;AASf;AACAzB,YAAQ,oBAAKwB,KAAL,CAAW,CAAC,OAAD,EAAU,QAAV,EAAoB,SAApB,EAA+B,MAA/B,CAAX,CAVO;AAWf;AACAnC,cAAU,oBAAKqC,MAZA;AAaf;AACA7C,cAAU,oBAAK8C,IAdA;AAef;AACA/C,aAAS,oBAAK+C,IAhBC;AAiBf;AACAzC,YAAQ,oBAAKyC,IAlBE;AAmBf;AACAxC,UAAM,oBAAKqC,KAAL,CAAW,CAAC,IAAD,EAAO,GAAP,EAAY,GAAZ,EAAiB,GAAjB,EAAsB,IAAtB,CAAX,CApBS;AAqBf;AACAnB,cAAU,oBAAKuB,SAAL,CAAe,CAAC,oBAAKC,OAAL,CAAa,oBAAKN,IAAlB,CAAD,EAA0B,oBAAKA,IAA/B,CAAf,CAtBK;AAuBf;AACAO,WAAO,oBAAKN,KAAL,CAAW,CAAC,eAAD,EAAkB,eAAlB,CAAX,CAxBQ;AAyBf;AACAvC,eAAW,oBAAKwC,MA1BD;AA2Bf;AACArC,QAAI,oBAAKqC,MA5BM;AA6Bf;AACAnC,aAAS,oBAAKyC,IA9BC;AA+Bf;AACAvC,aAAS,oBAAKuC,IAhCC;AAiCf;AACArC,YAAQ,oBAAKqC,IAlCE;AAmCf;AACAnC,kBAAc,oBAAKmC,IApCJ;AAqCf;AACAjC,kBAAc,oBAAKiC;AAtCJ,C,UAyCZC,Y,GAAe;AAClBtB,kBAAc,MADI;AAElBvB,UAAM,GAFY;AAGlBgB,SAAK,GAHa;AAIlBd,cAAU,CAJQ;AAKlBR,cAAU,KALQ;AAMlBD,aAAS,KANS;AAOlBM,YAAQ;AAPU,C;kBAwJXd,I","file":"link.js","sourcesContent":["/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport { autobind } from 'core-decorators';\nimport React from 'react';\nimport Type from 'prop-types';\n\nimport cn from '../cn';\nimport performance from '../performance';\n\n/**\n * Компонент ссылки.\n */\n@cn('link')\n@performance()\nclass Link extends React.Component {\n    static propTypes = {\n        /** Иконка ссылки */\n        icon: Type.node,\n        /** Позиционирование иконки в ссылке */\n        iconPosition: Type.oneOf(['left', 'right']),\n        /** Текст ссылки */\n        text: Type.node,\n        /** href ссылки */\n        url: Type.string,\n        /** target ссылки */\n        target: Type.oneOf(['_self', '_blank', '_parent', '_top']),\n        /** Последовательность перехода между контролами при нажатии на Tab */\n        tabIndex: Type.number,\n        /** Управление возможностью клика по ссылке */\n        disabled: Type.bool,\n        /** Управление состоянием ссылки выбран/не выбран */\n        checked: Type.bool,\n        /** Псевдо-ссылка (border-bottom: dashed) */\n        pseudo: Type.bool,\n        /** Размер компонента */\n        size: Type.oneOf(['xs', 's', 'm', 'l', 'xl']),\n        /** Дочерние элементы `Link` */\n        children: Type.oneOfType([Type.arrayOf(Type.node), Type.node]),\n        /** Тема компонента */\n        theme: Type.oneOf(['alfa-on-color', 'alfa-on-white']),\n        /** Дополнительный класс */\n        className: Type.string,\n        /** Идентификатор компонента в DOM */\n        id: Type.string,\n        /** Обработчик клика но ссылке */\n        onClick: Type.func,\n        /** Обработчик фокуса компонента */\n        onFocus: Type.func,\n        /** Обработчик снятия фокуса компонента */\n        onBlur: Type.func,\n        /** Обработчик события наведения курсора на ссылку */\n        onMouseEnter: Type.func,\n        /** Обработчик события снятия курсора с ссылки */\n        onMouseLeave: Type.func\n    };\n\n    static defaultProps = {\n        iconPosition: 'left',\n        size: 'm',\n        url: '#',\n        tabIndex: 0,\n        disabled: false,\n        checked: false,\n        pseudo: false\n    };\n\n    state = {\n        hovered: false,\n        focused: false\n    };\n\n    root;\n\n    render(cn) {\n        let linkElement = this.props.checked || this.props.disabled ? 'span' : 'a';\n\n        let linkProps = {\n            ref: (root) => { this.root = root; },\n            className: cn({\n                disabled: this.props.disabled,\n                checked: this.props.checked,\n                pseudo: this.props.pseudo,\n                size: this.props.size,\n                focused: this.state.focused,\n                hovered: this.state.hovered\n            }),\n            id: this.props.id,\n            tabIndex: this.props.tabIndex,\n            onClick: this.handleClick,\n            onFocus: this.handleFocus,\n            onBlur: this.handleBlur,\n            onMouseEnter: this.handleMouseEnter,\n            onMouseLeave: this.handleMouseLeave\n        };\n\n        if (this.props.target === '_blank') {\n            linkProps.rel = 'noreferrer noopener';\n        }\n\n        if (!this.props.checked && !this.props.disabled) {\n            linkProps.href = this.props.url;\n            linkProps.target = this.props.target;\n        }\n\n        let linkContent = [this.props.children];\n        let iconTemplate = (\n            this.props.icon &&\n                <span key='icon' className={ cn('icon') }>\n                    { this.props.icon }\n                </span>\n        );\n        let textTemplate = (\n            this.props.text &&\n                <span key='text' className={ cn('text') }>\n                    { this.props.text }\n                </span>\n        );\n\n        if (this.props.iconPosition === 'left') {\n            linkContent.push(iconTemplate, textTemplate);\n        } else if (this.props.iconPosition === 'right') {\n            linkContent.push(textTemplate, iconTemplate);\n        }\n\n        return React.createElement(\n            linkElement,\n            linkProps,\n            linkContent\n        );\n    }\n\n    @autobind\n    handleClick(event) {\n        if (this.props.pseudo) {\n            event.preventDefault();\n        }\n        if (this.props.onClick) {\n            this.props.onClick(event);\n        }\n    }\n\n    @autobind\n    handleFocus(event) {\n        this.setState({ focused: true });\n\n        if (this.props.onFocus) {\n            this.props.onFocus(event);\n        }\n    }\n\n    @autobind\n    handleBlur(event) {\n        this.setState({ focused: false });\n\n        if (this.props.onBlur) {\n            this.props.onBlur(event);\n        }\n    }\n\n    @autobind\n    handleMouseEnter(event) {\n        this.setState({ hovered: true });\n\n        if (this.props.onMouseEnter) {\n            this.props.onMouseEnter(event);\n        }\n    }\n\n    @autobind\n    handleMouseLeave(event) {\n        this.setState({ hovered: false });\n\n        if (this.props.onMouseLeave) {\n            this.props.onMouseLeave(event);\n        }\n    }\n\n    /**\n     * Возвращает корневой `HTMLElement` компонента.\n     *\n     * @public\n     * @returns {HTMLElement}\n     */\n    getNode() {\n        return this.root;\n    }\n\n    /**\n     * Ставит фокус на ссылку.\n     *\n     * @public\n     */\n    focus() {\n        this.root.focus();\n    }\n\n    /**\n     * Убирает фокус с ссылки.\n     *\n     * @public\n     */\n    blur() {\n        if (document.activeElement) {\n            document.activeElement.blur();\n        }\n    }\n}\n\nexport default Link;\n"]}